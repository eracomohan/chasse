<!DOCTYPE html>
<!--
                         __________________________________________________________.                    
               __  __*="" ╰-------┳--------------------╮---------------------------|     == |MMLEHO:>►  
     ___..=="""  Y'       __)______╮___________________)–––––––––––––––––––––––––––'                    
    !"         _     _==""(C_)                                                                          
    !     _=""' "=__/                                                                                   
    ╰=="""                                                                                              
-->
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chasse – The Deer hunter</title>
    <link rel="icon" type="image/icon" href="img/favicon.ico"/>
    <link rel="icon" type="image/svg" href="img/favicon.svg"/>
    <link rel="icon" type="image/png" href="img/favicon.png"/>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="fake-font-variable.css">
    <!-- <link rel="preload" href="https://www.basedesign.com/_next/static/css/87dce4012579858dac06.css" as="style"/>
        <link rel="stylesheet" href="https://www.basedesign.com/_next/static/css/87dce4012579858dac06.css" data-n-g=""/>
        <link rel="preload" href="https://www.basedesign.com/_next/static/css/dd93291d2af540cde7dc.css" as="style"/>
        <link rel="stylesheet" href="https://www.basedesign.com/_next/static/css/dd93291d2af540cde7dc.css" data-n-p=""/>
        <script defer="" nomodule="" src="https://www.basedesign.com/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script>
        <script src="https://cdn-cookieyes.com/client_data/2b2baf6ec4211185b42fa292/script.js" id="cookieyes" defer="" data-nscript="beforeInteractive"></script>
        <script src="https://www.basedesign.com/_next/static/chunks/webpack-59b2c74e2ee5ac6e8a37.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/framework-7612f137f39df1be4160.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/main-b27a0d0cae20b7ca4966.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/pages/_app-e07e40e7b1b1f8bfffe5.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/6113-59c82fa0d5afcd3e9955.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/7559-52d0174d8b0d762e41a7.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/5340-5cd0c54ba4e9fe26d9ce.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/2476-f8eb84e94ecf7a3b8e01.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/2963-d856ee6d8fe6c2e6339c.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/8211-d5d80d6f53b8802e5f34.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/3559-893f7e948ddd1175250e.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/chunks/pages/main-90480482174a23eb26e0.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/OGQLeCwvp8QezGys5luuG/_buildManifest.js" defer=""></script>
        <script src="https://www.basedesign.com/_next/static/OGQLeCwvp8QezGys5luuG/_ssgManifest.js" defer=""></script> -->
    <link rel="stylesheet" href="lightbox.css">
    <!-- <script src="loupe.js"></script> -->
    <script src="hologramme.js"></script>
    <script src="lightbox.js"></script>
    <script src="p5.js"></script>
    <script src="holo-6.js"></script>
    <script src="script3d.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script> -->
    <!-- <script src="sketch.js"></script> FAIT PLANTER LE FONT SCROLL-->
    <!-- <script src="font-scroll.js"></script> -->
        <style>
        /* img{
        height: 30%;
        width: auto;
        } */
    </style>
</head>
<body>
    <section class="hero">
        <div class="deer">
            <div class="hero-oneshot"><div class="hero-layer hero-back hero-back-1">THE DEER</div></div>    
            <div class="hero-oneshot2"><div class="hero-layer hero-back hero-back-2">THE DEER</div></div>    
            <div class="hero-oneshot3"><div class="hero-layer hero-back hero-back-3">THE DEER</div></div>
            <div class="hero-oneshot4"><div class="hero-layer hero-back hero-back-4">THE DEER</div></div>
            <div class="hero-oneshot5"><div class="hero-layer hero-back hero-back-5">THE DEER</div></div>
        </div>
        <div class="hunter">
            <div class="hunter-oneshot"><div class="hunter-layer hunter-back hunter-back-1">HUNTER</div></div>    
            <div class="hunter-oneshot2"><div class="hunter-layer hunter-back hunter-back-2">HUNTER</div></div>    
            <div class="hunter-oneshot3"><div class="hunter-layer hunter-back hunter-back-3">HUNTER</div></div>
            <div class="hunter-oneshot4"><div class="hunter-layer hunter-back hunter-back-4">HUNTER</div></div>
            <div class="hunter-oneshot5"><div class="hunter-layer hunter-back hunter-back-5">HUNTER</div></div>
        </div>
        <!-- enlever le blink -->
    </section>
    <section class="etape-1">

        <div class="repetition block" >
            <div class="oneshot block">
                <div class="layer back back-1">ONE SHOT</div>
            </div>    
            <div class="oneshot2 block" >
                <div class="layer back back-2">ONE SHOT</div>
            </div>    
            <div class="oneshot3 block" >
                <div class="layer back back-3">ONE SHOT</div>
            </div>
        </div>
        <div id="stickerDrawer" class="drawer closed">
    <div class="img-container">
    <div id="stickerDrawerHandle" class="handle">☰</div>
        <img class="one-e1" src="img/e1-1.png" alt="">
        <img class="one-e1" src="img/e1-2.png" alt="">
        <img class="one-e1" src="img/e1-3.png" alt="">
    </div>
</div>

    </section>
<section class="holo1">

    <!-- IMAGES -->
    <div class="images">
        <img class="img-s2" src="img/2A3A9705.JPG" alt="">
        <img class="img-s2" src="img/2A3A9707.JPG" alt="">
        <img class="img-s2" src="img/2A3A9708.JPG" alt="">
    </div>

    <!-- TEXTES -->
    <div class="texts">
        <p class="txt-s2 left">I got him</p>
        <p class="txt-s2 right">I got him</p>
    </div>

</section>
    <section class="etape-3">
<!-- texte only COMME BASEDESIGN, MAIS EN MIEUX -->
        <p>You can’t take him like that.</p>
        
        <div class="wrapper-3d">
          <p class="text-3d">Why not?</p>
        </div>
        <!--
        <div class="carouselY">
            <div class="groupY">
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                  
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                
            </div>
            <div class="groupY">
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                  
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                
            </div>
            
            <div class="groupY">
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                  
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                <div class="cardY">
	                <div class="gallery">
        <p>Why not?</p>

                    </div>
                </div>
                
            </div>
        </div>-->
        <p class="clean">You’ve got to do it clean.</p>
    </section>
    <section class="etape-4">
      <!-- pas – LOUPE -->
          <div class="container-loupe">
            <!-- IMAGE DE BASE -->
            <picture class="background-loupe">
              <!-- <source srcset="https://www.salecharacter.com/cms-media/SC_Trial_Mobile_Cover_Front_52d1d40203.svg" media="(max-width: 768px)"> -->
              <!-- <img src="https://www.salecharacter.com/cms-media/SC_Trial_Desktop_Cover_Front_f662a6e02e.svg" alt=""> -->
               <img class="loupe" src="img/2A3A9813.png" alt="">
            </picture>
            <div style="--x:15%;--y:15%;--r:15vw;transform-origin:15% 15%;clip-path:circle(var(--r, 15vw) at 15% 15%);-webkit-clip-path:circle(var(--r, 15vw) at 15% 15%);" class="bg-black animate-pulse-clip absolute scale-[1.0055] inset-0 w-full h-full object-cover opacity-100 transition-opacity duration-300"></div>
            <!-- IMAGE QUI SUIT LE CURSEUR -->
            <picture id="cursor">
              <!-- // Source - https://stackoverflow.com/a/50091726
// Posted by Jakub Muda, modified by community. See post 'Timeline' for change history
// Retrieved 2026-02-06, License - CC BY-SA 3.0

<glyph horiz-adv-x="222" unicode="l"><path d="m63.876 0.23623l-2.504 715.49 87.971 0.33072 2.504-715.49-87.971-0.33072z"/></glyph>
 -->

              <!-- <source srcset="https://www.salecharacter.com/cms-media/SC_Trial_Mobile_Cover_Hover_68383ef8f7.svg" media="(max-width: 768px)"> -->
              <!-- <img src="https://www.salecharacter.com/cms-media/SC_Trial_Desktop_Cover_Hover_236e28b3df.svg" alt=""> -->
               <img class="loupedef" class="loupe" src="img/2A3A9813.JPG" alt="">
            </picture>

          </div>
        <!-- <img src="img/2A3A9813.JPG" alt=""> -->
        <p>He’s right there.</p>
    </section>
    <!-- <section class="etape-5">
        <div class="wrapper-e5">
            <div class="img-e5">
                <div class="content1-e5">
                    <img src="img/2A3A9804.JPG" alt="">
                    <p class="txt-e5">If he hears the shot</p>
                </div>
                <div class="content-e5">
                    <p>He won’t be hurt</p>
                    <img src="img/2A3A9805.JPG" alt="">
                </div>
            </div>
        </div>
    </section> -->
<!-- <section class="etape-5">
    <div class="half right">
        <div class="state default">
            <img src="img/2A3A9805.JPG" alt="">
        </div>
        <div class="state hover">
            <p>He won’t be hurt</p>
        </div>
    </div>
    <div class="half left">
        <div class="state default">
            <p>If he hears the shot</p>
        </div>
        <div class="state hover">
            <img src="img/2A3A9805.JPG" alt="">
        </div>
    </div>
</section> -->
<section class="etape-5">
    <div class="half left">
        <div class="state default">
            <img src="img/2A3A9805.JPG" alt="">
        </div>
        <div class="state hover">
            <p>He won’t be hurt</p>
        </div>
    </div>

    <div class="half right">
        <div class="state default">
            <p>If he hears the shot</p>
        </div>
        <div class="state hover">
            <img src="img/2A3A9805.JPG" alt="">
        </div>
    </div>
</section>






        <!-- <div class="wrapper-e5">
            <div class="img-e5-2">
                <img src="img/2A3A9805.JPG" alt="">
                <div class="content-e5-2">
                    <p>If he hears the shot</p>
                </div>
            </div>
        </div> -->


    <!-- SLIDER 
    <section class="etape-6">
        <div class="carousel">
            <div class="group">
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9697.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9697.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9698.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9698.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9700.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9700.JPG" alt="Chasse">
                        </a>
                    </div>
                  
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9702.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9702.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9703.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9703.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
            </div>
            <div class="group">
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9697.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9697.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9698.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9698.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9700.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9700.JPG" alt="Chasse">
                        </a>
                    </div>
                  
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9702.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9702.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9703.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9703.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
            </div>
            <div class="group">
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9697.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9697.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9698.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9698.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9700.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9700.JPG" alt="Chasse">
                        </a>
                    </div>
                  
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9702.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9702.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
                <div class="card">
	                <div class="gallery">
                        <a href="img/2A3A9703.JPG" data-lightbox="mygallery" data-title="Chasse">
                            <img class="slideshow" src="img/2A3A9703.JPG" alt="Chasse">
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <img class="scr" src="img/2A3A9697.JPG" alt="">
        <img class="scr" src="img/2A3A9698.JPG" alt="">
        <img class="scr" src="img/2A3A9700.JPG" alt="">
        <img class="scr" src="img/2A3A9702.JPG" alt="">
        <img class="scr" src="img/2A3A9703.JPG" alt=""> 
    </section>-->

    <section class="holo">
    <img class="img-s6" src="img/2A3A9717.JPG" alt="">
    <img class="img-s6" src="img/2A3A9718.JPG" alt="">
    <img class="img-s6" src="img/2A3A9719.JPG" alt="">
    <img class="img-s6" src="img/2A3A9720.JPG" alt="">
    </section>
<section class="etape-10">
<!-- loupe FONDU FLOU -->
  <div class="images">
        <img src="img/1.png" alt="" class="image active">
        <img src="img/2.png" alt="" class="image">

  </div>
            <!--
  DONC ICI, Y A PAS DE TEXTE
   <p>It’s a good shot</p> -->


    </section>
    <!-- <section class="etape-9">
<!- pas nuit ->
        <img src="img/2A3A9817.JPG" alt="">
        <p>silence</p>
    </section> -->
    <section class="etape-7">
      <!-- grossissement -->
        <!-- <p>Michael aims for a long time</p> -->
        <p class="gunshot" id="monParagraphe">Gunshot</p>
        <p>The deer falls</p>
    </section>    
      <!-- <div class="spacer">
    Scroll pour entrer dans la section
  </div> -->
    <section class="etape-11 typo-section" id="typoSection">
    <div class="sticky">
      <div id="text">
        It's a good shot
    </div>
    </div>
  </section>      
    <footer>
        <!-- <p>Vous pouvez voir/télécharger un film un peu longuet en cliquant sur <a href="https://kdrive.infomaniak.com/app/share/1528976/4e5768a4-4c05-459d-88c4-0f2cc2a77685" target="_blank">ce lien</a>.</p> -->
        <!-- <p>MMLEHO&copy;2026</p> -->
         <!-- <p>Et même, aile à chaud&nbsp;&copy;&nbsp;2026</p> -->
          <p class="mmleho">Hé mais, mets le à chaud!&nbsp;&copy;&nbsp;2026</p>
          <!-- <p class="mmleho">Hé mais, mets le <sup>H</sup> haut!&nbsp;&copy;&nbsp;2026</p> -->
    </footer>
    <audio src="rifle_mixdown.mp3" id="monSon"></audio>
</body>
<!-- <script src="app.js"></script> -->
<script>
    /*
function initStickerDrawer() {
    const drawer = document.getElementById("stickerDrawer");
    const handle = document.getElementById("stickerDrawerHandle");

    drawer.classList.add("closed");

    handle.addEventListener("click", () => {
        if (drawer.classList.contains("open")) {
            drawer.classList.remove("open");
            drawer.classList.add("closed");
        } else {
            drawer.classList.remove("closed");
            drawer.classList.add("open");
        }
    });
}

window.addEventListener("DOMContentLoaded", initStickerDrawer);
*/
function initStickerDrawer() {
    const drawer = document.getElementById("stickerDrawer");
    const handle = document.getElementById("stickerDrawerHandle");

    drawer.classList.add("closed");

    let isDragging = false;
    let startX = 0;
    let startWidth = 0;

    // Début du drag (mouse ou touch)
    const startDrag = (e) => {
        isDragging = true;
        startX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
        startWidth = drawer.getBoundingClientRect().width;
        drawer.style.transition = "none"; // désactive la transition pendant le drag
    };

    // Drag en cours
    const onDrag = (e) => {
        if (!isDragging) return;
        const currentX = e.type.includes("touch") ? e.touches[0].clientX : e.clientX;
        const dx = startX - currentX; // déplacement horizontal

        // drawer.parentElement.width
        const maxWidth = drawer.parentElement.getBoundingClientRect().width;
        let newWidth = startWidth + dx; // on augmente ou réduit la largeur

        // bornes
        newWidth = Math.min(maxWidth, Math.max(maxWidth / 2, newWidth));
        drawer.style.width = newWidth + "px";
    };

    // Fin du drag
    const endDrag = () => {
        if (!isDragging) return;
        isDragging = false;

        const maxWidth = drawer.parentElement.getBoundingClientRect().width;
        const currentWidth = drawer.getBoundingClientRect().width;

        drawer.style.transition = "width 0.5s ease"; // réactive la transition

        // si drawer > 75% → open, sinon → closed
        if (currentWidth > maxWidth * 0.75) {
            drawer.classList.add("open");
            drawer.classList.remove("closed");
            drawer.style.width = ""; // reset, prend la valeur CSS
        } else {
            drawer.classList.add("closed");
            drawer.classList.remove("open");
            drawer.style.width = ""; // reset
        }
    };

    // événements
    handle.addEventListener("mousedown", startDrag);
    handle.addEventListener("touchstart", startDrag);

    window.addEventListener("mousemove", onDrag);
    window.addEventListener("touchmove", onDrag);

    window.addEventListener("mouseup", endDrag);
    window.addEventListener("touchend", endDrag);

    // click normal
    handle.addEventListener("click", (e) => {
        // si on était en drag, ignore le click
        if (isDragging) return;

        if (drawer.classList.contains("open")) {
            drawer.classList.remove("open");
            drawer.classList.add("closed");
        } else {
            drawer.classList.remove("closed");
            drawer.classList.add("open");
        }
    });
}

window.addEventListener("DOMContentLoaded", initStickerDrawer);

</script>



<script>
const holo1 = document.querySelector(".holo1");
const images = holo1.querySelectorAll(".img-s2");
const texts  = holo1.querySelectorAll(".txt-s2");

const steps1 = images.length - 1;

let targetT1 = 0;
let currentT1 = 0;
const smoothness1 = 0.08;

// état initial
images[0].style.opacity = 1;
texts[0].style.opacity = 1;

function clamp(v, min, max) {
    return Math.min(max, Math.max(min, v));
}

function updateScene(t) {
    const scaled = t * steps1;
    const index = Math.floor(scaled);
    const localT = scaled - index;

    images.forEach(img => img.style.opacity = 0);
    texts.forEach(txt => txt.style.opacity = 0);

    // images
    if (images[index]) {
        images[index].style.opacity = 1 - localT;
    }
    if (images[index + 1]) {
        images[index + 1].style.opacity = localT;
    }

    // textes synchronisés
    if (index === 0 && localT < 0.5) {
        texts[0].style.opacity = 1;
    }

    if (index === steps1 - 1 && localT > 0.5) {
        texts[1].style.opacity = 1;
    }
}

function animate() {
    currentT1 += (targetT1 - currentT1) * smoothness1;
    updateScene(currentT1);
    requestAnimationFrame(animate);
}

holo1.addEventListener("mousemove", e => {
    const rect = holo1.getBoundingClientRect();
    targetT1 = clamp(
        (e.clientX - rect.left) / rect.width,
        0,
        1
    );
});

animate();
</script>

<script>/*LOUPE*/
    const cursor = document.getElementById('cursor');

    function updatePosition(x, y) {
      const px = (x / window.innerWidth) * 100;
      const py = (y / window.innerHeight) * 100;

      cursor.style.setProperty('--x', px + '%');
      cursor.style.setProperty('--y', py + '%');
    }

    /* DESKTOP */
    document.addEventListener('mousemove', (e) => {
      updatePosition(e.clientX, e.clientY);
    });

    /* TOUCH */
    document.addEventListener('touchstart', (e) => {
      cursor.style.opacity = 1;
      const t = e.touches[0];
      updatePosition(t.clientX, t.clientY);
    }, { passive: true });

    document.addEventListener('touchmove', (e) => {
      const t = e.touches[0];
      updatePosition(t.clientX, t.clientY);
    }, { passive: true });

    document.addEventListener('touchend', () => {
      cursor.style.opacity = 0;
    });
    /*
      let active = false;

    document.addEventListener('touchstart', (e) => {
      active = !active;
      cursor.style.opacity = active ? 1 : 0;

      if (!active) return;
      const t = e.touches[0];
      updatePosition(t.clientX, t.clientY);
    });
    */
</script>

<script> /*HOLOGRAMME WIP*/
const holo = document.querySelector(".holo");
const imagesholo = holo.querySelectorAll(".img-s6");
const steps = imagesholo.length - 1;

let targetT = 0;
let currentT = 0;
const smoothness = 0.1;

imagesholo[0].style.opacity = 1;

function updateImages(t) {
    const scaled = t * steps;
    const index = Math.floor(scaled);
    const localT = scaled - index;

    imagesholo.forEach(img => img.style.opacity = 0);

    if (imagesholo[index]) {
        imagesholo[index].style.opacity = 1 - localT;
    }
    if (imagesholo[index + 1]) {
        imagesholo[index + 1].style.opacity = localT;
    }
}

function animate() {
    currentT += (targetT - currentT) * smoothness;
    updateImages(currentT);
    requestAnimationFrame(animate);
}

// interaction UNIQUEMENT dans la section
holo.addEventListener("mousemove", e => {
    const rect = holo.getBoundingClientRect();
    targetT = clamp((e.clientY - rect.left) / rect.height, 0, 1);
});

function clamp(v, min, max) {
    return Math.min(max, Math.max(min, v));
}

animate();
</script>


<script>/*FONT SCROLL – FAKE FONT VARIABLE*/

    const section = document.getElementById("typoSection");
    const text = document.getElementById("text");
    const hud = document.getElementById("hud");

    const fonts = [
      { name: "Thin", family: "Amazonia Extra Light Contrast" },
      { name: "Light", family: "Amazonia Light Contrast" },
      { name: "Regular", family: "Amazonia Regular Contrast" },
      { name: "Medium", family: "Amazonia Medium Contrast" },
      { name: "Bold", family: "Amazonia Semi Bold Contrast" },
      { name: "Black", family: "Amazonia Bold Contrast" },
      { name: "Bold", family: "Amazonia Black Contrast" },
      { name: "Black", family: "Amazonia Bold Contrast" },
      { name: "Bold", family: "Amazonia Semi Bold Contrast" },
      { name: "Medium", family: "Amazonia Medium Contrast" },
      { name: "Regular", family: "Amazonia Regular Contrast" },
      { name: "Light", family: "Amazonia Light Contrast" },
      { name: "Thin", family: "Amazonia Extra Light Contrast" },
    ];

    let currentIndex = -1;

    window.addEventListener("scroll", () => {
      const rect = section.getBoundingClientRect();
      const maxScroll = rect.height - window.innerHeight;

      if (rect.top <= 0 && Math.abs(rect.top) <= maxScroll) {
        const progress = Math.abs(rect.top) / maxScroll;
        const index = Math.round(progress * (fonts.length - 1));

        if (index !== currentIndex) {
          currentIndex = index;
          text.style.fontFamily = fonts[index].family;
          hud.textContent = `Antarctica ${fonts[index].name}`;
        }
      }
    });
</script>

<script> /*SKETCH P5*/
// let section;

function setup() {
 let section = document.querySelector(".etape-7");

  let myCanvas = createCanvas(section.offsetWidth, section.offsetHeight);

  myCanvas.parent(section);

  noFill();
  stroke(0);
  strokeWeight(1);
  frameRate(30);
  pixelDensity(1);
}

function draw() {
   background(255);

  line(0, mouseY, width, mouseY);

  line(mouseX, 0, mouseX, height);
  stroke(255, 119, 0);
  stroke(66, 225, 156);
}

function windowResized() {
  resizeCanvas(section.offsetWidth, section.offsetHeight);
}
if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
  line(0, mouseY, width, mouseY);
  line(mouseX, 0, mouseX, height);
}
</script>

<script>
  // On récupère les éléments
  const paragraphe = document.getElementById("monParagraphe");
  const son = document.getElementById("monSon");

  // On déclenche le son au clic
  paragraphe.addEventListener("click", () => {
    son.currentTime = 0; // pour pouvoir rejouer le son rapidement
    son.play();
  });
</script>

<script>/*IMAGE AVEC FONDU*/
  document.addEventListener("DOMContentLoaded", () => {
    const section = document.querySelector(".etape-10");
    if (!section) return;
const images = document.querySelectorAll('.image');

window.addEventListener('scroll', () => {
  const sectionTop = section.offsetTop;
  const sectionHeight = section.offsetHeight;
  const viewportMiddle = window.scrollY + window.innerHeight / 2;

  const progress = (viewportMiddle - sectionTop) / sectionHeight;
  const index = Math.floor(progress * images.length);

  images.forEach(img => img.classList.remove('active'));
  if (images[index]) images[index].classList.add('active');
});
});

</script>

</html>
